<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../css/public.css"/>
    <link rel="stylesheet" href="../css/style.css"/>
    <link rel="stylesheet" href="../css/list-style.css" />
    <link rel="stylesheet" href="../css/pagination.css" />
</head>
<body>
        <div id="top">
                <img src="https://haitao.nos.netease.com/65e0646f-a9ee-485e-99a6-ed41f4adc906T1912041818_1920_80.jpg"/>
            </div>
            <!--导航栏1-->
            <div id="nav-1">
                <div class="margin clear">
                    <div class="left">
                        <ul>
                            <li>考拉欢迎你!</li>
                            <li class="t2 white"><a href="#">登录</a></li>
                            <li class="white"><a href="#">免费注册</a></li>
                            <li class="t1 white"><a href="#">手机考拉</a></li>
                        </ul>
                    </div>
                    <div class="right">
                        <ul>
                            <li class="white">每日签到</li>
                            <li class="white">我的订单</li>
                            <li class="menu">
                                <dl class="t4">
                                    <dt>个人中心</dt>
                                    <dd>
                                        <a>我的订单</a>
                                        <a>我的优惠券</a>
                                        <a>我的考拉豆</a>
                                    </dd>
                                </dl>   
                            </li>
                            <li class="menu">
                                <dl class="t4">
                                    <dt>客服服务</dt>
                                    <dd>
                                        <a>我的订单</a>
                                        <a>我的优惠券</a>
                                        <a>我的考拉豆</a>
                                    </dd>
                                </dl>   
                            </li>
                            <li class="menu">
                                    <dl class="t4">
                                        <dt>充值中心</dt>
                                    <dd>
                                        <a>我的订单</a>
                                        <a>我的优惠券</a>
                                        <a>我的考拉豆</a>
                                        </dd>
                                </dl>   
                            </li>
                            <li class="menu">
                                    <dl class="t4">
                                        <dt>消费者权益</dt>
                                        <dd>
                                            <a>我的订单</a>
                                            <a>我的优惠券</a>
                                            <a>我的考拉豆</a>
                                        </dd>
                                    </dl>   
                            </li>
                            <li class="menu">
                                <dl class="t4">
                                    <dt>更多</dt>
                                    <dd>
                                        <a>我的订单</a>
                                        <a>我的优惠券</a>
                                        <a>我的考拉豆</a>
                                    </dd>
                                </dl>   
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!--logo部分-->
            <header >
                    <div class="margin clear">
                        <div class="logo">
                            <img src="https://haitao.nos.netease.com/88330630-0c6e-4653-9f0a-92e9ae5a2f42_420_130.png?imageView&thumbnail=210x0&quality=85&v=1"/>
                        </div>
                        <div class="center">
                            <input type="text" class="txt" placeholder="飞利浦电动牙刷"/>
                            <span class="yuan">
                                <span id="search"></span>
                            </span>
                            <span class="search1"></span>
                        </div>
                        <a href="#"class="buy">
                            <i class="shopcar"></i>
                            <span class="warp">购物车<b class="num"></b></span>
                        </a>
                    </div>  
            </header>
      
            
            <div id="list">
                <ul class="margin">
                    <!-- <li>
                        <div>
                            <img src="../jq-page/img/1.jpg"/>
                        </div>
                        <div class="detail">
                            我是商品1
                            <span class="price">特价180$</span>
                        </div>
                    </li> -->
                </ul>
            </div> 
            <div id="setPageDiv">
                    <select id="setPage">
                        <option value="4">四条数据</option>
                        <option value="8">八条数据</option>
                        <option value="12">十二条数据</option>
                    </select>
                
                    <div id="Pagination" class="pagination"></div>
                </div>
                <div id="btmlist">
                    <div class="margin clear">
                        <ul>
                            <li>
                                <P>正</P>
                                <strong>正品承诺</strong>
                                <span>正品保障 假一赔十</span>
                            </li>
                            <li>
                                <P>低</P>
                                <strong>低价保障</strong>
                                <span>缩减中间环节 确保低价</span>
                            </li>
                            <li>
                                <P>退</P>
                                <strong>30天无忧退货</strong>
                                <span>国内退货 售后无忧</span>
                            </li>
                            <li>
                                <P>邮</P>
                                <strong>满88元包邮</strong>
                                <span>部分特殊商品除外</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div id="guidelist">
                        <div class="margin clear">
                            <div class="left">
                                    <P>考拉海购</P>
                                    <span>关注我们</span>
                            </div>
                            <ul>
                                <li>
                                    <dl>
                                        <dt>考拉保障</dt>
                                        <dd>假一赔十</dd>
                                        <dd>廉政举报</dd>
                                    </dl>
                                </li>
                                <li>
                                    <dl>
                                        <dt>考拉保障</dt>
                                        <dd>假一赔十</dd>
                                        <dd>廉政举报</dd>
                                        <dd>假一赔十</dd>
                                        <dd>廉政举报</dd>
                                    </dl>
                                </li>
                                <li>
                                    <dl>
                                        <dt>考拉保障</dt>
                                        <dd>假一赔十</dd>
                                        <dd>廉政举报</dd>
                                        <dd>假一赔十</dd>
                                        <dd>廉政举报</dd>
                                    </dl>
                                </li>
                                <li>
                                    <dl>
                                        <dt>考拉保障</dt>
                                        <dd>假一赔十</dd>
                                        <dd>廉政举报</dd>
                                        <dd>假一赔十</dd>
                                        <dd>廉政举报</dd>
                                    </dl>
                                </li>
                                <li>
                                    <dl>
                                        <dt>考拉保障</dt>
                                        <dd>假一赔十</dd>
                                        <dd>廉政举报</dd>
                                        <dd>假一赔十</dd>
                                        <dd>廉政举报</dd>
                                    </dl>
                                </li>
                            </ul>
                
                        </div>
                    </div>
                    <footer>
                        <div class="margin">
                            <p>
                                <span>隐私政策-</span>
                                <span>考拉海购</span>
                            </p>
                            <p>
                                <span>增值电信业务许可证</span>
                                <span>增值电信业务许可证</span>
                                <span>增值电信业务许可证</span>
                            </p>
                            <p>
                                <span>增值电信业务许可证</span>
                                <span>增值电信业务许可证</span>
                                <span>增值电信业务许可证</span>
                                <span>增值电信业务许可证</span>
                            </p>
                
                        </div>
                    </footer>
                
</body>
<script src="../js/jquery.js"></script>
<script src="../js/jquery.pagination.js"></script>
<script>
        class Page{
            constructor(options){
                this.url=options.url;
                this.pageCont=options.pageCont;
                this.list=options.list;
                this.index=options.index || 0;
                this.num=options.num || 4;
    
                this.load();
            }
            load(){
                var that=this;
                $.ajax({
                    url:this.url,
                success:function(res){
                    // console.log(res);
                    that.res=res;
                    that.creatPage()
                    }
                })           
            }
                creatPage(){
                    var that=this;
                   this.pageCont.pagination(this.res.length,{
                        items_per_page:this.num,
                        current_page:this.index,
                        callback:function(i){
                            that.index=i;
                            that.display();		
                        }	   
                    })
                }
                display(){
                    var str="";
                   for(var i=this.index*this.num;i<(this.index+1)*this.num;i++){
                       if(i<this.res.length){
                           str+=`<li>
                          <div class="img">
                                <a href="#"><img src="${this.res[i].img}"></a>
                          </div>
                          <div class="detail">
                                ${this.res[i].info}
                        <span class="price">特价$${this.res[i].price}</span>
                    </div>
                </li> `
                       }
                   }
                   this.list.html(str);
                }
            }
            $("#setPage").change(function(){
                new Page({
                    url:"http://localhost/project/server/data/list.json",
                    pageCont:$(".pagination"),
                    list:$("#list ul"),
                    index:0,
                    num:parseInt($(this).val()) 
                })
            })
        new Page({
            url:"http://localhost/project/server/data/list.json",
            pageCont:$(".pagination"),
            list:$("#list ul"),
            index:0
        })
    </script>
</html>